<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.odm.oa.dao.mapper.FtFolderMapper">
	<select id="pageList" resultType="com.odm.oa.dao.pojo.FtFolder"
		parameterType="com.odm.oa.dao.pojo.pagination.DocPagination">
		select ID, NAME, FOLDER_TYPE as folderType,
		P_FOLDER_ID, FOLDER_LEV, REMARK,
		FOLDER_SPACE, VIEW_AUTH_USERS, DOWNLOAD_AUTH_USERS,
		UPLOAD_AUTH_USERS, COLLECT_USER, FOLD_UPLOAD_URL,
		FOLD_DOWNLOAD_URL, SHARE_CODE, SHARE_PASD,
		SHARE_TYPE, SHARE_DUE_DATE, COM_ID,
		DEL_FLG, UP_USER, UP_DATE,
		CR_USER, CR_DATE as crDate
		from FT_Folder
		<where>
			<if test="id != null and id != ''">
				P_Folder_ID=#{id} AND
			</if>
			<if test="name != null and name != ''">
				Name like concat('%',concat(#{name},'%')) AND
			</if>
			<if test="crUser != null and crUser != ''">
				CR_USER=#{crUser} AND
			</if>
			<if test="folderType != null and folderType != ''">
				FOLDER_TYPE=#{folderType} AND
			</if>
			<if test="remark != null and remark != ''">
				REMARK=#{remark} AND
			</if>
			DEL_FLG='0'
		</where>
	</select>
	<select id="selectByPId"
		resultType="com.odm.oa.dao.pojo.FtFolder"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Tue Jul 10 
			00:35:47 CST 2018. -->
		select ID, NAME, FOLDER_TYPE as folderType,
		P_FOLDER_ID, FOLDER_LEV, REMARK,
		FOLDER_SPACE, VIEW_AUTH_USERS, DOWNLOAD_AUTH_USERS,
		UPLOAD_AUTH_USERS, COLLECT_USER, FOLD_UPLOAD_URL,
		FOLD_DOWNLOAD_URL, SHARE_CODE, SHARE_PASD,
		SHARE_TYPE, SHARE_DUE_DATE, COM_ID,
		DEL_FLG, UP_USER, UP_DATE,
		CR_USER as crUser, CR_DATE as crDate
		from FT_Folder
		where P_Folder_ID =
		#{id,jdbcType=INTEGER} and DEL_FLG="0"
	</select>
	<select id="selectRootDir" resultMap="BaseResultMap" 
	parameterType="com.odm.oa.dao.pojo.pagination.DocPagination">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Sat Jul 14 
			20:25:19 CST 2018. -->
		select ID, NAME, FOLDER_TYPE, P_FOLDER_ID, FOLDER_LEV, REMARK,
		FOLDER_SPACE, VIEW_AUTH_USERS,
		DOWNLOAD_AUTH_USERS, UPLOAD_AUTH_USERS, COLLECT_USER, FOLD_UPLOAD_URL, FOLD_DOWNLOAD_URL,
		SHARE_CODE, SHARE_PASD, SHARE_TYPE, SHARE_DUE_DATE, COM_ID, DEL_FLG,
		UP_USER, UP_DATE,
		CR_USER, CR_DATE
		from FT_Folder
		<where>
		<if test="crUser != null and crUser != ''">
			CR_USER=#{crUser} AND
		</if>
		<if test="folderType != null and folderType != ''">
				FOLDER_TYPE=#{folderType} AND
		</if>
		<if test="remark != null and remark != ''">
				REMARK=#{remark} AND
		</if>
		P_Folder_ID = '0' AND DEL_FLG = '0'
		</where>
	</select>
	<select id="selectByName"
		resultType="com.odm.oa.dao.pojo.FtFolder"
		parameterType="java.lang.String">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Sat Jul 14 
			20:25:19 CST 2018. -->
		select ID, NAME, FOLDER_TYPE, P_FOLDER_ID as pFolderId, FOLDER_LEV,
		REMARK, FOLDER_SPACE, VIEW_AUTH_USERS,
		DOWNLOAD_AUTH_USERS, UPLOAD_AUTH_USERS, COLLECT_USER, FOLD_UPLOAD_URL, FOLD_DOWNLOAD_URL
		as foldDownloadUrl,
		SHARE_CODE, SHARE_PASD, SHARE_TYPE, SHARE_DUE_DATE, COM_ID, DEL_FLG as delFlg,
		UP_USER, UP_DATE,
		CR_USER as crUser, CR_DATE as crDate
		from FT_Folder
		where Name = #{name,jdbcType=INTEGER}
	</select>
	<select id="selectShareRootDir" resultMap="BaseResultMap" 
	parameterType="com.odm.oa.dao.pojo.pagination.DocPagination">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Sat Jul 14 
			20:25:19 CST 2018. -->
		select ID, NAME, FOLDER_TYPE, P_FOLDER_ID, FOLDER_LEV, REMARK,
		FOLDER_SPACE, VIEW_AUTH_USERS,
		DOWNLOAD_AUTH_USERS, UPLOAD_AUTH_USERS, COLLECT_USER, FOLD_UPLOAD_URL, FOLD_DOWNLOAD_URL,
		SHARE_CODE, SHARE_PASD, SHARE_TYPE, SHARE_DUE_DATE, COM_ID, DEL_FLG,
		UP_USER, UP_DATE,
		CR_USER, CR_DATE
		from FT_Folder
		<where>
		<if test="crUser != null and crUser != ''">
			CR_USER=#{crUser} AND
		</if>
		<if test="folderType != null and folderType != ''">
				FOLDER_TYPE=#{folderType} AND
		</if>
		<if test="remark != null and remark != ''">
				REMARK=#{remark} AND
		</if>
		<if test="viewUserName != null and viewUserName != ''">
				VIEW_AUTH_USERS=#{viewUserName} AND
		</if>
		DEL_FLG = '0'
		</where>
	</select>
</mapper>