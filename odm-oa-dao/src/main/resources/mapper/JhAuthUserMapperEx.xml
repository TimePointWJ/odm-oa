<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.odm.oa.dao.mapper.JhAuthUserMapper" >
<resultMap id="ExResultMap" type="com.odm.oa.dao.pojo.ex.JhAuthUserEx" extends="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Jul 14 20:25:19 CST 2018.
    -->
    <result column="ROLE_CODE" property="roleCode" jdbcType="VARCHAR" />
  </resultMap>
  <select id="selectUserByUserName" resultMap="ExResultMap" parameterType="java.lang.String" >
    SELECT 
        JAU.ID,
        JAU.USER_NAME,
        JAU.USER_REAL_NAME,
        JAU.USER_PASS,
        JAU.BRANCH_CODE,
        JAU.SEX,
        JAU.IS_USE,
        JAU.STATUS,
        JAU.USERSIGN,
        JAU.TELPHONE,
        JAU.MOBPHONE,
        JAU.TX,
        JAU.ZHIWU,
        JAU.REMARK,
        JAU.REMARK1,
        JAU.MAILBOX,
        JAU.WEIXINNUM,
        JAU.PCCODE,
        JAU.PCCODEUPDATE,
        JAU.MOBCODE,
        JAU.MOBCODEDATE,
        JAU.COM_ID,
        JAU.USER_LEADER,
        JAU.USER_LOGO_ID,
        JAU.USER_ORDER,
        JAU.TXURL,
        JAU.ISGZ,
        JAU.LOGINDATE,
        JAU.IS_SUP_ADMIN,
        JAU.TXLQX,
        JAU.ROLE_QX,
        JAU.ROOM_CODE,
        JAU.USER_GW,
        JAU.NICK_NAME,
        JAU.JOB_NUM,
        JAU.QQ,
        JAU.ID_CARD,
        JAU.NATIONALITY,
        JAU.NATION,
        JAU.HOME_ADDRESS,
        JAU.GS_PHONE,
        JAU.ENTRY_DATE,
        JAU.DEPARTURE_DATE,
        JAU.BIRTHDAY,
        JAU.MARRIAGE,
        JAU.CHILDREN,
        JAU.JJLXR,
        JAU.JJLXRDH,
        JAU.HIRE,
        ZZ_TIME,
        JAU.CONTRACT_S_TIME,
        JAU.CONTRACT_E_TIME,
        JAU.SOCIAL_INSURANCE,
        JAU.GJJID,
        JAU.BANK_CARD,
        JAU.BANK_NAME,
        JAU.WEIXIN_CARD,
        JAU.IS_SHOW_YD,
        JAU.FILES,
        JAU.DEL_FLG,
        JAU.UP_USER,
        JAU.UP_DATE,
        JAU.CR_USER,
        JAU.CR_DATE,
        JAUR.ROLE_CODE
    FROM
        JH_Auth_User JAU
            LEFT JOIN
        JH_Auth_UserRole JAUR ON JAU.ID = JAUR.ID
    WHERE
        JAU.USER_NAME = #{userName,jdbcType=VARCHAR}
  </select>
   <select id="selectUsersByDeptCode" parameterType="java.lang.Integer" resultType="com.odm.oa.dao.pojo.ex.JhAuthUserEx">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Feb 27 17:58:41 CST 2018.
    -->
    select d.ID, d.USER_NAME as userName, d.USER_REAL_NAME as userRealName, d.USER_PASS as userPass, d.BRANCH_CODE as branchCode, d.SEX, d.IS_USE as isUse, d.STATUS, 
    d.USERSIGN, d.TELPHONE, d.MOBPHONE, d.TX, d.ZHIWU, d.REMARK, d.REMARK1, d.MAILBOX, d.WEIXINNUM, d.USER_LEADER as userLeader, d.USER_GW as userGw, d.NICK_NAME as nickName, 
    d.JOB_NUM as jobNum, d.QQ, d.ID_CARD as idCard, d.NATIONALITY, d.NATION, d.HOME_ADDRESS as homeAddress, d.GS_PHONE as gsPhone, d.ENTRY_DATE as entryDate, d.DEPARTURE_DATE as departureDate, 
    d.BIRTHDAY, d.MARRIAGE, d.CHILDREN, d.JJLXR, d.JJLXRDH, d.HIRE, d.ZZ_TIME as zzTime, d.CONTRACT_S_TIME as contractSTime, d.CONTRACT_E_TIME as contractETime, 
    d.SOCIAL_INSURANCE as socialInsurance, d.GJJID, d.BANK_CARD as bankCard, d.BANK_NAME as bankName, d.FILES, 
    d.DEL_FLG as delFlg, d.UP_USER, d.UP_DATE, d.CR_USER, d.CR_DATE
    from JH_Auth_User d
    where d.BRANCH_CODE=#{branchCode} and d.DEL_FLG="0"
  </select>
</mapper>